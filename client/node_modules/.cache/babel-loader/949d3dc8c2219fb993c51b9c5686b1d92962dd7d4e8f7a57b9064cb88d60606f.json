{"ast":null,"code":"import{Briefcase,Users}from\"lucide-react\";import React,{useState,useEffect}from'react';import{Search,Filter,Sparkles}from'lucide-react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=_ref=>{let{onSearch,placeholder=\"Search jobs or candidates...\",type=\"both\"}=_ref;const[query,setQuery]=useState('');const[suggestions,setSuggestions]=useState([]);const[showSuggestions,setShowSuggestions]=useState(false);const[isLoading,setIsLoading]=useState(false);useEffect(()=>{const fetchSuggestions=async()=>{if(query.length<2){setSuggestions([]);return;}try{const response=await axios.get(\"/api/search/suggestions?q=\".concat(query));setSuggestions(response.data.suggestions);}catch(error){console.error('Error fetching suggestions:',error);}};const timeoutId=setTimeout(fetchSuggestions,300);return()=>clearTimeout(timeoutId);},[query]);const handleSearch=function(){let searchQuery=arguments.length>0&&arguments[0]!==undefined?arguments[0]:query;if(searchQuery.trim()){onSearch(searchQuery);setShowSuggestions(false);}};const handleKeyPress=e=>{if(e.key==='Enter'){handleSearch();}};const handleSuggestionClick=suggestion=>{setQuery(suggestion.text);handleSearch(suggestion.text);};const examples=[\"Python developers in Bangalore with 3+ years experience\",\"Only candidates with PMP certification\",\"Remote frontend roles paying above 20 LPA\",\"IIT undergraduates for software engineering\",\"Java developers who can join immediately\"];return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-white rounded-2xl shadow-lg border border-gray-200 focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-transparent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center pl-4 pr-2\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:e=>setQuery(e.target.value),onKeyPress:handleKeyPress,onFocus:()=>setShowSuggestions(true),placeholder:placeholder,className:\"flex-1 py-4 px-2 text-lg text-gray-900 placeholder-gray-500 focus:outline-none\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSearch(),className:\"bg-primary-600 hover:bg-primary-700 text-white px-6 py-4 rounded-r-2xl font-medium transition-colors duration-200 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Search\"})]})]}),showSuggestions&&suggestions.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-60 overflow-y-auto\",children:suggestions.map((suggestion,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSuggestionClick(suggestion),className:\"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-full \".concat(suggestion.type==='job'?'bg-blue-100 text-blue-600':'bg-green-100 text-green-600'),children:suggestion.type==='job'?/*#__PURE__*/_jsx(Briefcase,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:suggestion.text})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2 text-gray-600 mb-3\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"h-5 w-5 text-primary-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Try these natural language queries:\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-center gap-2\",children:examples.map((example,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setQuery(example);handleSearch(example);},className:\"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-full transition-colors duration-200\",children:example},index))})]})]});};export default SearchBar;","map":{"version":3,"names":["Briefcase","Users","React","useState","useEffect","Search","Filter","Sparkles","axios","jsx","_jsx","jsxs","_jsxs","SearchBar","_ref","onSearch","placeholder","type","query","setQuery","suggestions","setSuggestions","showSuggestions","setShowSuggestions","isLoading","setIsLoading","fetchSuggestions","length","response","get","concat","data","error","console","timeoutId","setTimeout","clearTimeout","handleSearch","searchQuery","arguments","undefined","trim","handleKeyPress","e","key","handleSuggestionClick","suggestion","text","examples","className","children","value","onChange","target","onKeyPress","onFocus","onClick","map","index","example"],"sources":["E:/Job Matcher/client/src/components/SearchBar.js"],"sourcesContent":["import { Briefcase, Users } from \"lucide-react\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Search, Filter, Sparkles } from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\nconst SearchBar = ({ onSearch, placeholder = \"Search jobs or candidates...\", type = \"both\" }) => {\r\n  const [query, setQuery] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchSuggestions = async () => {\r\n      if (query.length < 2) {\r\n        setSuggestions([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get(`/api/search/suggestions?q=${query}`);\r\n        setSuggestions(response.data.suggestions);\r\n      } catch (error) {\r\n        console.error('Error fetching suggestions:', error);\r\n      }\r\n    };\r\n\r\n    const timeoutId = setTimeout(fetchSuggestions, 300);\r\n    return () => clearTimeout(timeoutId);\r\n  }, [query]);\r\n\r\n  const handleSearch = (searchQuery = query) => {\r\n    if (searchQuery.trim()) {\r\n      onSearch(searchQuery);\r\n      setShowSuggestions(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleSearch();\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion) => {\r\n    setQuery(suggestion.text);\r\n    handleSearch(suggestion.text);\r\n  };\r\n\r\n  const examples = [\r\n    \"Python developers in Bangalore with 3+ years experience\",\r\n    \"Only candidates with PMP certification\",\r\n    \"Remote frontend roles paying above 20 LPA\",\r\n    \"IIT undergraduates for software engineering\",\r\n    \"Java developers who can join immediately\"\r\n  ];\r\n\r\n  return (\r\n    <div className=\"w-full max-w-4xl mx-auto\">\r\n      <div className=\"relative\">\r\n        <div className=\"flex items-center bg-white rounded-2xl shadow-lg border border-gray-200 focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-transparent\">\r\n          <div className=\"flex items-center pl-4 pr-2\">\r\n            <Search className=\"h-5 w-5 text-gray-400\" />\r\n          </div>\r\n          \r\n          <input\r\n            type=\"text\"\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            onFocus={() => setShowSuggestions(true)}\r\n            placeholder={placeholder}\r\n            className=\"flex-1 py-4 px-2 text-lg text-gray-900 placeholder-gray-500 focus:outline-none\"\r\n          />\r\n          \r\n          <button\r\n            onClick={() => handleSearch()}\r\n            className=\"bg-primary-600 hover:bg-primary-700 text-white px-6 py-4 rounded-r-2xl font-medium transition-colors duration-200 flex items-center space-x-2\"\r\n          >\r\n            <Search className=\"h-5 w-5\" />\r\n            <span>Search</span>\r\n          </button>\r\n        </div>\r\n\r\n        {showSuggestions && suggestions.length > 0 && (\r\n          <div className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-60 overflow-y-auto\">\r\n            {suggestions.map((suggestion, index) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => handleSuggestionClick(suggestion)}\r\n                className=\"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 flex items-center space-x-3\"\r\n              >\r\n                <div className={`p-2 rounded-full ${\r\n                  suggestion.type === 'job' ? 'bg-blue-100 text-blue-600' : 'bg-green-100 text-green-600'\r\n                }`}>\r\n                  {suggestion.type === 'job' ? <Briefcase className=\"h-4 w-4\" /> : <Users className=\"h-4 w-4\" />}\r\n                </div>\r\n                <span className=\"text-gray-700\">{suggestion.text}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mt-6 text-center\">\r\n        <div className=\"flex items-center justify-center space-x-2 text-gray-600 mb-3\">\r\n          <Sparkles className=\"h-5 w-5 text-primary-500\" />\r\n          <span className=\"text-sm font-medium\">Try these natural language queries:</span>\r\n        </div>\r\n        <div className=\"flex flex-wrap justify-center gap-2\">\r\n          {examples.map((example, index) => (\r\n            <button\r\n              key={index}\r\n              onClick={() => {\r\n                setQuery(example);\r\n                handleSearch(example);\r\n              }}\r\n              className=\"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm rounded-full transition-colors duration-200\"\r\n            >\r\n              {example}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}